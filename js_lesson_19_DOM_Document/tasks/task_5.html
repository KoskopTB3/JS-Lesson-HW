<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="../css/style_5.css" />
    <title>Задача №5</title>
  </head>

  <body>
    <h2>
      Задача 5.Байрактар. З верхньої частини екрану у випадковій позиції по горизонталі
      з’являються танки, які їдуть вниз. При кліку на танк він вибухає і зникає з екрану.
    </h2>
    <div class="container"></div>

    <script>
      class Bayraktar {
        constructor(tanksNum, tankImgSrc, boomImgSrc) {
          this.tanksNum = tanksNum
          this.tankImgSrc = tankImgSrc
          this.boomImgSrc = boomImgSrc
        }

        getRandomNum(minNum, maxNum) {
          return minNum + Math.floor(Math.random() * (maxNum - minNum + 1))
        }

        createTank() {
          const tank = document.createElement("img")
          tank.classList.add("tank")
          tank.src = this.tankImgSrc

          tank.onclick = () => {
            tank.src = this.boomImgSrc
            tank.classList.add("boom")
            setTimeout(() => {
              tank.remove()
            }, 200)
          }

          tank.style.animationDuration = this.getRandomNum(9, 12) + "s"
          tank.style.animationDelay = this.getRandomNum(0, 2) + "s"
          tank.style.left = this.getRandomNum(0, this.windowWidthValue) + "px"

          this.targetElement.append(tank)
        }

        render(elementSelector) {
          console.log(this.arrTanks)
          this.targetElement = document.querySelector(elementSelector)
          this.windowWidthValue = innerWidth
          for (let i = 0; i < this.tanksNum; i++) {
            this.createTank()
          }
        }
      }
      const tankImg = "/img/tank.png"
      const boomImg = "/img/boom.png"
      new Bayraktar(10, tankImg, boomImg).render(".container")
    </script>
  </body>
</html>
