<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<!-- <link rel="stylesheet" href="../css/style.css"> -->
	<title>Задача №4 ДОПОЛНИТЕЛЬНО</title>
</head>

<body>
	<h2>Задача 4 ДОПОЛНИТЕЛЬНО. Морський бій. Ворожий корабель, може знаходитись в одному із квадратів
		(кількість квадратів вводиться з клавіатури), які розташовані лінійно (один за одним) на річці. 

		Позиція корабля визначається комп’ютером випадковим чином.
		Гра відбувається за правилами: 
		1) якщо користувач стріляє у заданий квадрат (тобто вводиться номер квадрата), то корабель потоплено;
		2) якщо корабель знаходиться у сусідньому по відношенню до квадрата, де знаходиться корабель, то корабель пошкоджено
		(про це повідомляємо користувача).
		За два постріли спробувати потопити корабель.
		
	</h2>

	<script>
	
		// ВВедення необхідних даних
		
		const battleField = parseInt(prompt('Введіть скільки кліток морської битви','5'))
		let minNum = 1, maxNum = battleField
		let shipPosition=minNum + Math.floor(Math.random()*(maxNum-minNum+1))
		const shot = parseInt(prompt('Введіть в яку клітину треба вистрелили','3'))
		let shotError = Math.abs(shot - shipPosition)
		console.log(`выстрел - позиция корабля = ${shotError}`)
		console.log(`позиция корабля ${shipPosition}`)
		
		// Обчислення результату
		if((shot!==shipPosition) && (shotError!==1)){
			alert(`Мимо`)
			const optionShot = parseInt(prompt('У вас є ще одна спроба, введіть в яку клітину треба вистрелили','5'))
			if(Math.abs(optionShot-shipPosition)===1)
				alert(`Ви майже влучили! Але нажаль снаряди закінчилися, корабель був у клітині ${shipPosition}`)
			else if(optionShot===shipPosition)
				document.write(`Ви знищили корабель`)
			else
				document.write(`Ви промахнулись, корабель був у клітині ${shipPosition}`)
			
		}else if (shotError===1) {
			alert(`Ви майже влучили у корабель`)
			const optionShot = parseInt(prompt('У вас є ще одна спроба, введіть в яку клітину треба вистрелили','5'))
			if(Math.abs(optionShot-shipPosition)===1)
				alert(`Ви майже влучили! Але нажаль снаряди закінчилися, корабель був у клітині ${shipPosition}`)
			else if(optionShot===shipPosition)
				document.write(`Ви знищили корабель`)
			else
				document.write(`Ви промахнулись, корабель був у клітині ${shipPosition}`)
		
		}else if(shot===shipPosition)
				document.write(`Ви знищили корабель`)
		
		else
			document.write(`Ви промахнулись, корабель був у клітині ${shipPosition}`)


		// Виведення результату
		

	</script>
</body>

</html>