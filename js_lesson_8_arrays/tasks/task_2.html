<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Задача №2</title>
  </head>

  <body>
    <h2>
      Задача 2. Дано масив, який зберігає кількість відвідувачів магазину протягом тижня. Вивести на екран:
      <ul>
        <li>номери днів, протягом яких кількість відвідувачів була меншою за 20;</li>
        <li>номери днів, коли кількість відвідувачів була мінімальною;</li>
        <li>номери днів, коли кількість відвідувачів була максимальною;</li>
        <li>загальну кількість клієнтів у робочі дні та окремо загальну кількість днів на вихідних.</li>
      </ul>
    </h2>

    <script>
      //фукція для запису кількості відвідувачев у день
      function getNumberOfVisitors(daysNum) {
        let arrNumberOfVisitorsPerDay = [];
        const minVisiters = 15,
          maxVisiters = 50;
        for (let index = 1; index <= daysNum; index++) {
          let randomNumVisiters = minVisiters + Math.floor(Math.random() * (maxVisiters - minVisiters + 1));
          arrNumberOfVisitorsPerDay.push(randomNumVisiters);
        }
        console.log(arrNumberOfVisitorsPerDay);
        //   console.log(arrNumberOfVisitorsPerDay.indexOf());
        return arrNumberOfVisitorsPerDay;
      }
      //фукція для запису днів і кількості відвідувачев менше 20 у день
      function getNumberOfVisitorsLess_20(arrVisitors) {
        let dayVisitorsLess_20 = [];
        let numberVisitorsLess_20 = [];
        for (let i = 0; i < arrVisitors.length; i++) {
          if (arrVisitors[i] < 20) {
            numberVisitorsLess_20.push(arrVisitors[i]); //количество посетителей меньше 20
            dayVisitorsLess_20.push(i + 1);
          }
        }
        if (dayVisitorsLess_20.length === 0) dayVisitorsLess_20 = 0;
        console.log(dayVisitorsLess_20);
        console.log(numberVisitorsLess_20);
        return { numberVisitorsLess_20, dayVisitorsLess_20 };
      }

      //функція днів коли було МІНІМАЛЬНА кількість відвідувачев
      function getMinNumVisitors(arrVisitors) {
        let minNumVisitors = Infinity;
        for (let i = 0; i < arrVisitors.length; i++) {
          if (arrVisitors[i] < minNumVisitors) minNumVisitors = arrVisitors[i];
        }
        console.log(`Мінімальне ${minNumVisitors}`);
        return minNumVisitors;
      }

      //функція днів коли було МАКСИМАЛЬНА кількість відвідувачев
      function getMaxNumVisitors(arrVisitors) {
        let maxNumVisitors = -Infinity;
        for (let i = 0; i < arrVisitors.length; i++) {
          if (arrVisitors[i] > maxNumVisitors) maxNumVisitors = arrVisitors[i];
        }
        console.log(`Максимальне ${maxNumVisitors}`);
        return maxNumVisitors;
      }

      //функція знаходження днів максимальної та мінімальної кількости людей
      function getDaysOfMinOrMaxVisitors(numberOfVisitors, minNumberOfVisitors, maxNumberOfVisitors) {
        const daysOfMinNumVisitors = [];
        const daysOfMaxNumVisitors = [];
        for (let i = 0; i < numberOfVisitors.length; i++) {
          if (numberOfVisitors[i] === minNumberOfVisitors) {
            let day = i + 1;
            daysOfMinNumVisitors.push(day);
          }
        }
        for (let i = 0; i < numberOfVisitors.length; i++) {
          if (numberOfVisitors[i] === maxNumberOfVisitors) {
            let day = i + 1;
            daysOfMaxNumVisitors.push(day);
          }
        }
        return { daysOfMaxNumVisitors, daysOfMinNumVisitors };
      }

      function getNumVisitorsWorkingDay(arrVisitors) {
        totalSumVisiters = 0;
        for (let i = 0; i < 5; i++) {
          totalSumVisiters += arrVisitors[i];
        }
        console.log(totalSumVisiters);
        return totalSumVisiters;
      }

      function getNumVisitorsHoliday(arrVisitors) {
        totalSumVisiters1 = 0;
        for (let i = 5; i < 7; i++) {
          totalSumVisiters1 += arrVisitors[i];
        }
        console.log(totalSumVisiters1);
        return totalSumVisiters1;
      }
      // =========================================================

      let numberOfVisitors = getNumberOfVisitors(7);
      let numberOfVisitorsLess_20 = getNumberOfVisitorsLess_20(numberOfVisitors);
      document.write(
        `Номер днів в яких відвідувачев було менше за 20: ${numberOfVisitorsLess_20.dayVisitorsLess_20} Кількість відвідувачев: ${numberOfVisitorsLess_20.numberVisitorsLess_20} `
      );
      let minNumberOfVisitors = getMinNumVisitors(numberOfVisitors);
      let maxNumberOfVisitors = getMaxNumVisitors(numberOfVisitors);
      let daysOfMinOrMaxVisitors = getDaysOfMinOrMaxVisitors(numberOfVisitors, minNumberOfVisitors, maxNumberOfVisitors);
      document.write(
        `<br>Номер днів з мінімальною кількістю відвідувачів: ${daysOfMinOrMaxVisitors.daysOfMinNumVisitors} <br> Номер днів з максимальною кількістю відвідувачів: ${daysOfMinOrMaxVisitors.daysOfMaxNumVisitors}`
      );
      let numVisitorsWorkingDay = getNumVisitorsWorkingDay(numberOfVisitors);
      document.write(`<br>Загальну кількість клієнтів у робочі дні: ${numVisitorsWorkingDay} <br>`);
      let numVisitorsHoliday = getNumVisitorsHoliday(numberOfVisitors);
      document.write(`Загальну кількість клієнтів у вихідні дні: ${numVisitorsHoliday}`);
    </script>
  </body>
</html>
